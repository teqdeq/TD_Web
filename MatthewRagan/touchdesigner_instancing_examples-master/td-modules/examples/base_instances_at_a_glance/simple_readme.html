<!DOCTYPE html>
<html>
<head>    
    <link rel="stylesheet" href="../../../assets/styles.css">
</head>
<body>

<h1>Instances at a Glance</h1>
<h2>Simple Instances with CHOPs</h2>
<hr>
<p>We use instances when working in 3D for a number of reasons. Efficiency, elegance, simplicity, reusability, the the list goes on and on. When working in TouchDesigner we often want to use instances so we can produce multiple copies of the same geometry. Under the hood this is a much more efficient approach to rendering, and allows us create the illusion of thousands of an object, when we are in fact only make virtual copies of that geometry. If you played with TouchDesigner much this has a similar behavior to the <a href="https://docs.derivative.ca/Copy_SOP">Copy SOP</a> - the key difference here being that the <a href="https://docs.derivative.ca/Copy_SOP">Copy SOP</a> produces unique pieces of geometry that are computed on the CPU, while instances are handled by the GPU. The effect here is that we can work with many more instances of that geometry, and accomplish illusions that would otherwise be very difficult to achieve if we were only working in a CPU bound context.
<br>
<br>
So how do we go about creating instances? The <a href="https://docs.derivative.ca/Geometry_COMP">geometry component</a> contains two pages dedicated to instancing. For instancing to work we need to first turn on the instancing toggle, then point to the operator that holds our relevant data.
<br>
<br>
We might start by just thinking about positional information as important for our instances. Open the example and note that we start with a Sphere SOP and then convert that data to CHOPs. Our sopto1 CHOP contains three channels: tx, ty, and tz. Each channel has 42 samples. These represent the positions of each point in the <a href="https://docs.derivative.ca/Sphere_SOP">Sphere SOP</a>. When using this data for instancing, we'll end up with a copy of our geometry COMP (in this case a box) at each one of those samples.
<br>
<br>
Take a moment to look at the geo1 COMP. Notice that the parameters 'Translate X', 'Translate Y', and 'Translate Z' point to channel names in our null_instnaces CHOP. These parameters let us specify which channels should be used to derive relevant information for our copies.
<br>
<br>
This style of instancing imagines that we are thinking about our instances in 3D space - that our sphere defines the location of each copy; the rest is just some mechanics to bring that idea to life.
</p> 

<hr>
<br>
<footer>
Tested in TouchDesigner099 2019.20140 <br>
Updated 01.29.20 <br>
Matthew Ragan
</footer>

</body>
</html> 